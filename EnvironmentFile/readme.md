# Environment Variables

Note: Line breaks in Variable and Default value are just for reading convenience. Do not set environment as multi-line.
Variable|Description|Default Value
---|---|---
UseHat|Enable Hat support.|true
GpioMinimalSignal<br>Changing|In order to prevent false signals caused by the signal jitter of the hardware buttons, the pressing signals whose duration is less than this setting (milliseconds) will be ignored.|100
ShowKeyboardHelp|Display help information when entering the software keyboard function. Boolean value.|true
ShowKeyboard<br>Confirm|Choose whether to save changes when exiting the software keyboard function. Boolean value.|true
UseBle|Enable Bluetooth LE support.|true
BleDeviceName|Device name displayed in Bluetooth LE.|SDCopy
SourceFolder|The folder contains files and folders to be copied from. Also, this folder is used as detecting point in source device enumerating.|DCIM
SourceDevice<br>IncludedList|The device pattern list for source device detecting, separated by semicolons or commas.|sd?;nvme?n?
SourceDevice<br>ExcludedList|The device pattern list to be excluded from source device detecting, separated by semicolons or commas.|
SourceSubFolder<br>IncludedList|The folder pattern list to be included as source, separated by semicolons. All folders within ```SourceFolder``` are included when this is set to empty.|
SourceSubFolder<br>ExcludedList|The folder pattern list to be excluded from source, separated by semicolons. No folder within ```SourceFolder``` is excluded when this is set to empty.|
SourceFile<br>IncludedList|The file pattern list to be included as source, separated by semicolons. All files in filtered folders are included when this is set to empty.|
SourceFile<br>ExcludedList|The file pattern list to be excluded from source, separated by semicolons. No file from filtered folders is excluded when this is set to empty. For example, set this to ```*.LRV;*.THM``` to avoid copying such files created by GoPro.|
TargetFolder|The folder as target for copying. Also, this folder is used as detecting point in target device enumerating.|Target
TargetDevice<br>IncludedList|The device pattern list for target device detecting, separated by semicolons or commas.|sd?;nvme?n?
TargetDevice<br>ExcludedList|The device pattern list to be excluded from target device detecting, separated by semicolons or commas.|
TargetSubFolder<br>Format|The format to be used as name of the sub folder, which is created for each copying within the target folder. ```{0}``` is the current time or the latest time of all source files.|{0:yyyyMMdd}
TargetSubFolder<br>AdditionalFormat|The format to be used as name of the sub folder, which is created for each copying within the target folder, when an item with the same name generated by TargetSubFolderFormat exists.``` {0}``` is the name generated by generated, ```{1}``` is an integer starting from 1.|{0}-{1}
MountPointSource|The path as mounting point for source. The folder specified by the path will be created while app starting.|/tmp/MySourceDisk
MountPointTarget|The path as mounting point for target. The folder specified by the path will be created while app starting.|/tmp/MyTargetDisk
SambaMount<br>IncludedList|The device pattern list when Samba server mounting all volume/partition devices, separated by semicolons or commas.|sd*;mmcblk*;nvme?n?p*
SambaMount<br>ExcludedList|The device pattern list to be excluded when Samba server mounting all volume/partition devices, separated by semicolons or commas.|sd?;mmcblk?
SambaMountPoint<br>Format|The format of the path as mounting point of each device to be mounted in Samba server. ```{0}``` is the device name. Those folders will be created while Samba server mounting and will be removed after Samba server stopped.|/tmp/SDCopySMBMounting-{0}
SambaConfFileName|The path to the configuration file contains shares created by SDCopy for Samba server. Set to empty to disable Samba server function. Note: You need to edit the samba configuration file to include this file.|/etc/samba/SDCopy.conf
SambaConfFormat|The format of the node in the configuration file for one share. ```{0}``` is the share name. ```{1}``` is the path. ```{2}``` is an enter.|SambaConfFormat=[{0}]{2}<br>path = {1}{2}<br>guest ok = yes{2}<br>writable = yes{2}<br>force user = root{2}<br>force group = root{2}
SambaSharePoint<br>Source|The share name of source.|SDCopy-Source
SambaSharePoint<br>Target|The share name of target.|SDCopy-Target
SambaSharePoint<br>Root|The share name of root file system. Set to empty will disable this share.|SDCopy-Root
SambaSharePoint<br>OtherFormat|The format of the share name of device. ```{0}``` is the name of the device.|SDCopy-{0}
StartSambaCommand|The command to start smbd after configuration set. The default value is restarting smbd instead.|systemctl restart smbd
StopSambaCommand|The command to stop smbd after configuration removed. The default value is restarting smbd instead.|systemctl restart smbd
FileBrowser<br>MountPointFormat|The format of the path as mounting point of device other than source and target in file browser. ```{0}``` is the device name. Those folders will be created while file server mounting and will be removed after unmounted.|/tmp/SDCopySMBMounting-{0}
GetPathDevice<br>CommandFormat|The command to get the device of a folder or file specified by path. ```{0}``` is the path.|df -P -- "{0}"
CopyBlockLength|The size of the block for each reading and writing while file copying. Integer value.|262144
StreamBufferLength|The size of the stream buffer for disk I/O. Integer value.|262144
ExtendTargetFile<br>BeforeCopying|Whether extend the length of the target file to match the source before writing data. Boolean value.|false
NicDenyList|The network interface card to be excluded from the network list.|lo
NicPriorityList|The network interface cards to be shown at the top in the network list, separated by semicolons or commas.|wlan0;eth0
WlanDevice|The name of the Wlan network interface card.|wlan0
WpaSupplicantConf|The path to the conf file of wpa_supplicant.|/etc/wpa_supplicant/}<br>wpa_supplicant.conf
WpaSupplicantApply<br>CommandFormat|The format of the command to apply the current setting of wpa_supplicant. ```{0}``` is the name of the wlan device specified by ```WlanDevice```.|wpa_cli -i {0} reconfigure
NetplanConfFolder|The path to the conf folder of netplan.|/etc/netplan
NetplanConfFile|The file name to store the network setting created by SDCopy for netplan.|99-SDCopy.yaml
NetplanApply<br>Command|The command to apply the current setting of netplan.|netplan apply
BashPath|The path to the ```bash shell```.|/bin/bash
BashArgumentFormat|The format of the argument of the bash to run commands. ```{0}``` is the command to be run.|-c \"{0}\"
Mount<br>CommandFormat|The format of the command to mount. ```{0}``` is the device, ```{1}``` is the mouting point.|mount {0} {1}
UMount<br>CommandFormat|The format of the command to umount. ```{0}``` is the mouting point.|umount {0}
ShutdownSystem<br>Command|The command to shutdown system.|shutdown -h now
RebootSystem<br>Command|The command to reboot system.|reboot
VcGenCmdGetThrottled<br>Command|The command to get throttled from ```vcgencmd```.|vcgencmd get_throttled
GetOverlayStatus<br>Command|The command to get the status of overlay file system.|raspi-config nonint get_overlay_now
GetOverlayConf<br>Command|The command to get the configuration status of overlay file system.|raspi-config nonint get_overlay_conf
EnableOverlayFS<br>Command|The command to enable overlay file system.|raspi-config nonint enable_overlayfs
DisableOverlayFS<br>Command|The command to disable overlay file system.|raspi-config nonint disable_overlayfs
GetBootRoConf<br>Command|The comand to get the boot mounting mode.|raspi-config nonint get_bootro_conf
EnableBootRo<br>Command|The command to set the boot mounting mode to read-only.|raspi-config nonint enable_bootro
DisableBootRo<br>Command|The command to set the boot mounting mode to read-write.|raspi-config nonint disable_bootro
SystemdStopService<br>Command|The command to stop this app.|systemctl stop SDCopy.service
GetCurrentTimeZone<br>Command|The command to get the current time zone.|cat /etc/timezone
GetTimeZoneList<br>Command|The command to get the time zone list.|timedatectl list-timezones
SetTimeZone<br>CommandFormat|The format of the command to set time zone. ```{0}``` is continent, ```{1}``` is city. When setting to ```UTC```, ```{0}``` is ```Etc``` and ```{1}``` is ```Utc```.|timedatectl set-timezone {0}/{1}
SetDateTime<br>CommandFormat|The format of the command to set date and time. ```{0}``` is year, ```{1}``` is month, ```{2}``` is day, ```{3}``` is hour, ```{4}``` is minute, ```{5}``` is second.|timedatectl set-time '{0:D4}-{1:D2}-<br>{2:D2} {3:D2}:{4:D2}:{5:D2}'
CheckWhether<br>NtpIsEnabledCommand|The command to check the Ntp status.|timedatectl show \| grep -q '^NTP=yes'
SetDateTimeManually<br>Command|The command to set the Ntp off.|timedatectl set-ntp 0
SetDateTimeWithNtp<br>Command|The command to set the Ntp on.|timedatectl set-ntp 1
SetScript<br>ExecutePermission<br>CommandFormat|The format of the command to give a file executing permission. ```{0}``` is the path to the file.|chmod +x {0}
Decompress<br>CommandFormat|The format of the command to decompress a ```tar.gz``` file to the working folder. ```{0}``` is the path to the ```tar.gz``` file.|tar zxvf {0}
GetPathDevice<br>CommandFormat|The format of command to get the device of a file or folder. ```{0}``` is the path to the file or folder.|df -P -- "{0}"
LicenseFiles|The paths to the license files. The first one is used as the target when writing required.|/etc/SDCopy.lic;<br>/boot/SDCopyLicense.txt;<br>/boot/SDCopyLicense.txt.txt;<br>/boot/firmware/SDCopyLicense.txt;<br>/boot/firmware/SDCopyLicense.txt.txt
UpdateTempFolder|The path of the temporary folder for app updating. The folder specified by the path will be created or cleaned while app starting.|/tmp/SDCopyUpdate
UserCommandText1|Text of the user command 1.|Reboot
UserCommand1|Command of the user command 1.|reboot
UserCommandText2|Text of the user command 2.|Update System
UserCommand2|Command of the user command 2.|apt update && apt upgrade -y <br>&& apt autoremove -y
UserCommandText3|Text of the user command 3.|
UserCommand3|Command of the user command 3.|
UserCommandText4|Text of the user command 4.|
UserCommand4|Command of the user command 4.|
UserCommandText5|Text of the user command 5.|
UserCommand5|Command of the user command 5.|
UserCommandText6|Text of the user command 6.|
UserCommand6|Command of the user command 6.|
UserCommandText7|Text of the user command 7.|
UserCommand7|Command of the user command 7.|
UserCommandText8|Text of the user command 8.|
UserCommand8|Command of the user command 8.|
UserCommandText9|Text of the user command 9.|
UserCommand9|Command of the user command 9.|
UpdateBand|Band of the app while updating. For PiOS 10, use ```PiOS_arm32_10```; for Ubuntu 20.04 arm64, use ```Ubuntu_arm64_2004```.|PiOS_arm32_10

# Setting

Variable settings will be read while SDCopy starting. Values can be set in these ways:

1. Environment file named as SDCopy.env, placed in /boot/firmware/. The folder is the default mapping point of the boot partition of Ubuntu Arm64 20.04. Use [this systemd](../SystemdFile/Ubuntu%20Arm64%2020.04/SDCopy.service) file.
2. Environment file named as SDCopy.env, placed in /boot/. The folder is the default mapping point of the boot partition of PiOS Arm32 10. Use [this systemd](../SystemdFile/PiOS%20Arm32%2010/SDCopy.service) file.
3. Environment file named as SDCopy.env, placed in /etc/. Use [this systemd](../SystemdFile/etc/SDCopy.service) file.

For the convenience of end users to edit, 1 and 2 are recommended for pre-made images. 3 is a good way for advanced user who install the app manually.
